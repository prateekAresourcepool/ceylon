"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __importDefault(require("react"));
var antd_1 = require("antd");
var def_1 = require("./def");
var icons_1 = require("@ant-design/icons");
exports.TableHeader = function (props) {
    var _a, _b, _c, _d, _e, _f, _g;
    var _h = react_1.default.useState({
        action: def_1.ActionType.none
    }), action = _h[0], setAction = _h[1];
    react_1.default.useEffect(function () {
        if (action.action !== def_1.ActionType.none) {
            props.onAction(action.action, action.value);
            setAction({ action: def_1.ActionType.none });
        }
    }, [action, props]);
    return react_1.default.createElement(react_1.default.Fragment, null,
        react_1.default.createElement(antd_1.Row, { style: { paddingTop: 5, paddingLeft: 24, paddingRight: 16 } },
            react_1.default.createElement(antd_1.Col, { span: 8 },
                react_1.default.createElement(antd_1.Typography.Title, { level: 4 }, props.title)),
            react_1.default.createElement(antd_1.Col, { span: 10 }, ((_a = props.cfg) === null || _a === void 0 ? void 0 : _a.search) && react_1.default.createElement(antd_1.Input.Search, { placeholder: "Search", onSearch: function (value) { return setAction({ action: def_1.ActionType.search, value: value }); }, enterButton: true })),
            react_1.default.createElement(antd_1.Col, { span: 6, style: { textAlign: "right" } },
                ((_b = props.cfg) === null || _b === void 0 ? void 0 : _b.add) && react_1.default.createElement(antd_1.Button, { style: { marginRight: 5 }, icon: react_1.default.createElement(icons_1.AppstoreAddOutlined, { onClick: function () { return setAction({ action: def_1.ActionType.add }); } }) }),
                ((_c = props.cfg) === null || _c === void 0 ? void 0 : _c.refresh) && react_1.default.createElement(antd_1.Button, { style: { marginRight: 5 }, icon: react_1.default.createElement(icons_1.RedoOutlined, { onClick: function () { return setAction({ action: def_1.ActionType.refresh }); } }) }),
                ((_d = props.cfg) === null || _d === void 0 ? void 0 : _d.import) && react_1.default.createElement(antd_1.Button, { style: { marginRight: 5 }, icon: react_1.default.createElement(icons_1.CloudUploadOutlined, { onClick: function () { return setAction({ action: def_1.ActionType.import }); } }) }),
                ((_e = props.cfg) === null || _e === void 0 ? void 0 : _e.export) && react_1.default.createElement(antd_1.Button, { style: { marginRight: 5 }, icon: react_1.default.createElement(icons_1.CloudDownloadOutlined, { onClick: function () { return setAction({ action: def_1.ActionType.export }); } }) }),
                ((_f = props.cfg) === null || _f === void 0 ? void 0 : _f.settings) && react_1.default.createElement(antd_1.Button, { style: { marginRight: 5 }, icon: react_1.default.createElement(icons_1.SettingOutlined, null), onClick: function () { return setAction({ action: def_1.ActionType.settings }); } }), (_g = props.cfg) === null || _g === void 0 ? void 0 :
                _g.buttons)));
};
