{"map":"{\"version\":3,\"sources\":[\"built/26.bundle.js\"],\"names\":[\"window\",\"push\",\"804\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"AmplifyS3Album\",\"getRandomValues\",\"_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__\",\"_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__\",\"_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__\",\"_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__\",\"_storage_types_f257c0f2_js__WEBPACK_IMPORTED_MODULE_4__\",\"_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__\",\"_constants_c8ecaa24_js__WEBPACK_IMPORTED_MODULE_6__\",\"_aws_amplify_storage__WEBPACK_IMPORTED_MODULE_7__\",\"_storage_helpers_1afafead_js__WEBPACK_IMPORTED_MODULE_8__\",\"__awaiter\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"Promise\",\"resolve\",\"reject\",\"fulfilled\",\"value\",\"step\",\"next\",\"e\",\"rejected\",\"result\",\"done\",\"then\",\"apply\",\"__generator\",\"body\",\"f\",\"y\",\"t\",\"g\",\"_\",\"label\",\"sent\",\"trys\",\"ops\",\"verb\",\"throw\",\"return\",\"Symbol\",\"iterator\",\"this\",\"n\",\"v\",\"op\",\"TypeError\",\"call\",\"pop\",\"length\",\"__spreadArrays\",\"s\",\"i\",\"il\",\"arguments\",\"Array\",\"k\",\"a\",\"j\",\"jl\",\"rnds8\",\"Uint8Array\",\"rng\",\"crypto\",\"bind\",\"msCrypto\",\"Error\",\"REGEX\",\"validate\",\"uuid\",\"test\",\"byteToHex\",\"toString\",\"substr\",\"v4\",\"options\",\"buf\",\"offset\",\"rnds\",\"random\",\"arr\",\"undefined\",\"toLowerCase\",\"stringify\",\"logger\",\"class_1\",\"hostRef\",\"_this\",\"Object\",\"contentType\",\"level\",\"Public\",\"picker\",\"pickerText\",\"PICKER_TEXT\",\"albumItems\",\"imgArr\",\"list\",\"_a\",\"_b\",\"path\",\"track\",\"identityId\",\"data\",\"error_1\",\"_c\",\"debug\",\"marshal\",\"warn\",\"forEach\",\"item\",\"ext\",\"key\",\"split\",\"has\",\"getContentType\",\"filtered\",\"filter\",\"startsWith\",\"items\",\"sort\",\"constructImgArray\",\"map\",\"handlePick\",\"event\",\"file\",\"fileToKey\",\"error_2\",\"target\",\"files\",\"error\",\"keys\",\"includes\",\"prototype\",\"componentWillLoad\",\"render\",\"class\",\"imgKey\",\"handleOnError\",\"handleOnLoad\",\"get\",\"inputHandler\",\"acceptValue\",\"style\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{804:function(t,e,r){\"use strict\";r.r(e),r.d(e,\"amplify_s3_album\",(function(){return T}));var n,i=r(47),o=r(156),a=r(107),s=r(35),l=r(309),c=r(33),u=r(67),f=r(823),p=r(825),m=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},h=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},d=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},y=new Uint8Array(16);function b(){if(!n&&!(n=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return n(y)}var g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function v(t){return\"string\"==typeof t&&g.test(t)}for(var w=[],k=0;k<256;++k)w.push((k+256).toString(16).substr(1));function x(t,e,r){var n=(t=t||{}).random||(t.rng||b)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(w[t[e+0]]+w[t[e+1]]+w[t[e+2]]+w[t[e+3]]+\"-\"+w[t[e+4]]+w[t[e+5]]+\"-\"+w[t[e+6]]+w[t[e+7]]+\"-\"+w[t[e+8]]+w[t[e+9]]+\"-\"+w[t[e+10]]+w[t[e+11]]+w[t[e+12]]+w[t[e+13]]+w[t[e+14]]+w[t[e+15]]).toLowerCase();if(!v(r))throw TypeError(\"Stringified UUID is invalid\");return r}(n)}var I=new o.a(\"S3Album\"),T=function(){function t(t){var e=this;Object(i.k)(this,t),this.contentType=\"binary/octet-stream\",this.level=l.a.Public,this.picker=!0,this.pickerText=c.a.PICKER_TEXT,this.albumItems=[],this.imgArr={},this.list=function(){return m(e,void 0,void 0,(function(){var t,e,r,n,i,o,a,s;return h(this,(function(l){switch(l.label){case 0:if(e=(t=this).path,r=void 0===e?\"\":e,n=t.level,i=t.track,o=t.identityId,I.debug(\"Album path: \"+r),!f.a||\"function\"!=typeof f.a.list)throw new Error(u.k);l.label=1;case 1:return l.trys.push([1,3,,4]),[4,f.a.list(r,{level:n,track:i,identityId:o})];case 2:return a=l.sent(),this.marshal(a),[3,4];case 3:return s=l.sent(),I.warn(s),[3,4];case 4:return[2]}}))}))},this.marshal=function(t){t.forEach((function(t){var r=t.key.toLowerCase().split(\".\")[1];p.d.has(r)&&(!t.contentType||t.contentType&&\"binary/octet-stream\"===t.contentType)&&(t.contentType=e.getContentType(t))}));var r=t.filter((function(t){return t.contentType&&t.contentType.startsWith(\"image/\")})),n=e.filter?e.filter(r):r;n=e.sort?e.sort(n):n,e.albumItems=n,I.debug(\"album items\",e.albumItems),e.constructImgArray(e.albumItems)},this.constructImgArray=function(t){t.map((function(t){e.imgArr[\"\"+t.key]=t.key}))},this.handlePick=function(t){return m(e,void 0,void 0,(function(){var e,r,n,i,o,a,s,l,c,u;return h(this,(function(f){switch(f.label){case 0:e=t.target.files[0],n=(r=this).path,i=void 0===n?\"\":n,o=r.level,a=r.track,s=r.fileToKey,l=i+Object(p.b)(e,s),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Object(p.e)(l,e,o,a,e.type,I)];case 2:return f.sent(),[3,4];case 3:throw c=f.sent(),I.error(c),new Error(c);case 4:return Object.keys(this.imgArr).includes(l)?(this.albumItems=d(this.albumItems),this.imgArr[l]=l+\"-\"+x()):(u=d(this.albumItems,this.filter?this.filter([{key:l}]):[{key:l}]),this.albumItems=this.sort?this.sort(u):u),[2]}}))}))}}return t.prototype.getContentType=function(t){return Object(a.c)(t.key,\"image/*\")},t.prototype.componentWillLoad=function(){this.list()},t.prototype.render=function(){var t=this;return Object(i.i)(\"div\",null,Object(i.i)(\"div\",{class:\"album-container\"},Object(i.i)(\"div\",{class:\"grid-row\"},this.albumItems.map((function(e){return Object(i.i)(\"div\",{class:\"grid-item\",key:\"key-\"+e.key},Object(i.i)(\"amplify-s3-image\",{key:t.imgArr[e.key],imgKey:e.key,level:t.level,path:t.path,identityId:t.identityId,track:t.track,handleOnError:t.handleOnError,handleOnLoad:t.handleOnLoad}),Object(i.i)(\"span\",{class:\"img-overlay\"}))})))),this.picker&&Object(i.i)(\"amplify-picker\",{pickerText:s.a.get(this.pickerText),inputHandler:function(e){return t.handlePick(e)},acceptValue:\"image/*\"}))},t}();T.style=\":host{--overlay-bg-color:rgba(0, 0, 0, 0.15)}.album-container{-webkit-box-sizing:border-box;box-sizing:border-box;max-width:100%;margin:0 auto;padding:0 2rem}.grid-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:-1rem -1rem;padding-bottom:3rem}.grid-item{position:relative;-ms-flex:1 0 22rem;flex:1 0 22rem;-ms-flex-positive:1;flex-grow:1;margin:1rem;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}amplify-s3-image{--width:22rem;--height:20rem;border-radius:5px;-o-object-fit:cover;object-fit:cover}.img-overlay{display:none;width:100%;height:21rem;position:absolute;top:0;left:0;background-color:var(--overlay-bg-color)}.grid-item:hover .img-overlay{display:block}\"}}]);","extractedComments":[]}